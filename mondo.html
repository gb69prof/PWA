<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Pascoli — Immagine del mondo</title>
  <meta name="description" content="Pascoli — immagine del mondo: schemi cliccabili, sintesi, vocabolario e appunti." />
  <link rel="stylesheet" href="mondo.css">

  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#961B2B">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
</head>

<body>
  <!-- TOPBAR -->
  <header class="topbar" aria-label="Intestazione pagina">
    <a class="home" href="index.html" aria-label="Torna alla Home">← Home</a>

    <div class="head">
      <div class="kicker">Pascoli / Libro.0</div>
      <h1>L’immagine del mondo</h1>
      <p class="sub">Miniature → viewer a destra. Click sul viewer → schermo intero con zoom.</p>
    </div>

    <div class="chips" aria-label="Indicatori pagina">
      <span class="chip">Schemi</span>
      <span class="chip">Sintesi</span>
      <span class="chip">Appunti</span>
    </div>
  </header>

  <main class="layout">
    <!-- COLONNA TESTO -->
    <section class="col">
      <article class="card">
        <h2>Quadro generale</h2>
        <p>
          Per Pascoli la poesia nasce dalla meraviglia: il poeta è un “fanciullino” che sogna alla luce e vede nel buio,
          scoprendo ogni cosa come fosse nuova. Questa idea deriva sia dalla tradizione poetica (Leopardi),
          sia dai lutti che segnarono la sua vita. Il dolore lo porta a rifiutare la fiducia nella scienza positivista
          e ad abbracciare una visione irrazionale, vicina al Decadentismo.
        </p>
        <p>
          Il nido-famiglia diventa rifugio e simbolo di protezione; la politica si intreccia con i sentimenti
          (socialismo come fratellanza, nazionalismo come casa per gli emigranti).
          Lo stile riflette questa visione: sintassi frammentata, figure foniche (allitterazioni, onomatopee) e sinestesie.
          La realtà non è già data, ma nasce ogni volta nello sguardo del poeta.
        </p>

        <div class="divider"></div>

        <h2>Schemi (clic)</h2>
        <div class="thumbs" role="list" aria-label="Schemi cliccabili">
          <button class="thumb" role="listitem" onclick="show('assets/stupore.png','Stupore')">
            <img src="assets/stupore.png" alt="Schema: Stupore">
            <span>Stupore</span>
          </button>

          <button class="thumb" role="listitem" onclick="show('assets/scienza.png','Scienza')">
            <img src="assets/scienza.png" alt="Schema: Scienza">
            <span>Scienza</span>
          </button>

          <button class="thumb" role="listitem" onclick="show('assets/politica.png','Politica')">
            <img src="assets/politica.png" alt="Schema: Politica">
            <span>Politica</span>
          </button>

          <button class="thumb" role="listitem" onclick="show('assets/nido_famiglia.png','Nido-famiglia')">
            <img src="assets/nido_famiglia.png" alt="Schema: Nido-famiglia">
            <span>Nido</span>
          </button>

          <button class="thumb wide" role="listitem" onclick="show('assets/immagine_mondo.png','Schema generale')">
            <img src="assets/immagine_mondo.png" alt="Schema: generale">
            <span>Schema generale</span>
          </button>
        </div>

        <details class="acc" open>
          <summary>Schema sintetico</summary>
          <ul>
            <li>Poesia = stupore e scoperta del mondo.</li>
            <li>Influenze: tradizione (Leopardi) + biografia segnata dai lutti.</li>
            <li>Rifiuto della scienza → dolore cosmico.</li>
            <li>Nido-famiglia = rifugio, simbolo costante.</li>
            <li>Politica: socialismo (fratellanza), nazionalismo (nido per emigranti).</li>
            <li>Stile: sintassi semplice, paratassi, figure foniche, sinestesie.</li>
            <li>Realtà = simbolo che nasce dallo sguardo del poeta.</li>
          </ul>
        </details>

        <details class="acc">
          <summary>Saperi irrinunciabili</summary>
          <ul>
            <li>Il poeta è un fanciullino che si stupisce di tutto.</li>
            <li>Il dolore familiare segna la sua visione del mondo.</li>
            <li>Rifiuta la scienza positivista.</li>
            <li>Centrale il simbolo del nido-famiglia.</li>
            <li>Sintassi paratattica e figure sonore.</li>
          </ul>
        </details>

        <details class="acc">
          <summary>Vocabolario</summary>
          <dl class="dl">
            <div class="dlrow"><dt>Fanciullino</dt><dd>parte infantile che resta viva nell’uomo e nel poeta.</dd></div>
            <div class="dlrow"><dt>Nido-famiglia</dt><dd>simbolo di protezione e rifugio dagli affanni.</dd></div>
            <div class="dlrow"><dt>Paratassi</dt><dd>costruzione di frasi coordinate senza subordinazione.</dd></div>
            <div class="dlrow"><dt>Sinestesia</dt><dd>accostamento di sensazioni di sfere sensoriali diverse.</dd></div>
            <div class="dlrow"><dt>Allitterazione</dt><dd>ripetizione di suoni uguali o simili in una frase.</dd></div>
          </dl>
        </details>
      </article>

      <article class="card">
        <h2>La visione del mondo</h2>
        <p>
          La visione del mondo di Pascoli nasce dal dolore dei lutti familiari che distrussero la sua infanzia.
          La perdita del padre e della madre generò in lui paura e senso di solitudine: per reagire,
          il poeta trasformò l’infanzia in un momento mitico, simbolo di un tempo in cui tutto aveva ancora senso.
          Il nido-famiglia divenne rifugio ideale contro i mali della storia, spazio chiuso e protetto dove gli affetti sono esclusivi.
          Da qui nasce anche l’esaltazione delle cose umili, capaci di racchiudere semplicità, intimità e stupore.
          Oggetti e dettagli quotidiani assumono valore simbolico, diventando il segno di un mondo interiore.
        </p>
        <p>
          In politica Pascoli oscillò tra socialismo e nazionalismo: il primo come ideale di fratellanza,
          il secondo come difesa degli emigranti, un “nido-nazione” che protegge i suoi membri.
          Infine, il poeta rifiutò l’ottimismo positivista: la scienza non dava felicità, ma aumentava l’insicurezza dell’uomo.
          Solo la poesia, capace di svelare il mistero dietro le cose, poteva restituire senso al mondo.
        </p>

        <details class="acc" open>
          <summary>Schema sintetico</summary>
          <ul>
            <li>Dolore e lutti familiari → nascita della sua visione.</li>
            <li>Infanzia mitizzata come tempo ideale.</li>
            <li>Nido-famiglia = rifugio e simbolo di protezione.</li>
            <li>Esaltazione delle cose umili come segni di interiorità.</li>
            <li>Politica: socialismo (fratellanza) → nazionalismo (nido-nazione).</li>
            <li>Rifiuto della scienza positivista.</li>
            <li>Poesia come unica via alla conoscenza del mistero.</li>
          </ul>
        </details>

        <details class="acc">
          <summary>Saperi irrinunciabili</summary>
          <ul>
            <li>Lutti familiari segnano la visione del mondo pascoliana.</li>
            <li>Centrale il simbolo del nido-famiglia.</li>
            <li>Le cose umili hanno valore simbolico.</li>
            <li>Socialismo e nazionalismo fusi in una visione sentimentale.</li>
            <li>Negazione dell’ottimismo scientifico.</li>
            <li>La poesia rivela il mistero del reale.</li>
          </ul>
        </details>

        <details class="acc">
          <summary>Vocabolario</summary>
          <dl class="dl">
            <div class="dlrow"><dt>Nido-famiglia</dt><dd>simbolo di protezione e rifugio intimo.</dd></div>
            <div class="dlrow"><dt>Cose umili</dt><dd>oggetti quotidiani caricati di valore simbolico.</dd></div>
            <div class="dlrow"><dt>Positivismo</dt><dd>fiducia nella scienza come fonte di progresso e felicità.</dd></div>
            <div class="dlrow"><dt>Socialismo</dt><dd>visione di fratellanza e solidarietà sociale.</dd></div>
            <div class="dlrow"><dt>Nazionalismo</dt><dd>estensione del nido-famiglia alla nazione come comunità protettiva.</dd></div>
          </dl>
        </details>
      </article>

      <article class="card">
        <h2>Appunti (copia/incolla + salvataggio)</h2>
        <textarea id="notes" placeholder="Incolla o scrivi qui…"></textarea>

        <div class="btns" aria-label="Azioni appunti">
          <button class="btn" onclick="copyNotes()">Copia</button>
          <button class="btn primary" onclick="downloadNotes()">Scarica .txt</button>
          <button class="btn ghost" onclick="clearNotes()">Svuota</button>
        </div>
      </article>
    </section>

    <!-- COLONNA VIEWER -->
    <aside class="col viewerCol" aria-label="Viewer schemi">
      <section class="viewer card sticky">
        <div class="viewerTop">
          <div class="viewerTitle">
            <b id="label">Schema generale</b>
            <span class="hint">Click sull’immagine per ingrandire</span>
          </div>
          <button class="miniBtn" type="button" onclick="openModal()" aria-label="Apri a schermo intero">⤢</button>
        </div>

        <div class="viewerFrame">
          <img
            id="big"
            class="big"
            src="assets/immagine_mondo.png"
            alt="Schema generale"
            onclick="openModal()"
          >
        </div>
      </section>
    </aside>
  </main>

  <!-- MODALE SCHERMO INTERO -->
  <div id="modal" class="modal" role="dialog" aria-modal="true" aria-label="Viewer schermo intero" onclick="closeModal(event)">
    <div class="modalBox" role="document">
      <div class="modalTop">
        <b id="modalLabel">Schema generale</b>

        <div class="modalBtns" aria-label="Controlli zoom">
          <button class="btn ghost" onclick="zoom(-0.15); event.stopPropagation();">−</button>
          <button class="btn ghost" onclick="zoom(0.15); event.stopPropagation();">+</button>
          <button class="btn ghost" onclick="resetZoom(); event.stopPropagation();">Reset</button>
          <button class="btn primary" onclick="forceClose(); event.stopPropagation();">Chiudi</button>
        </div>
      </div>

      <div class="modalFrame">
        <img id="modalImg" src="assets/immagine_mondo.png" alt="Schema generale">
      </div>
    </div>
  </div>

  <script>
    let currentSrc = 'assets/immagine_mondo.png';
    let currentLabel = 'Schema generale';
    let scale = 1;

    function show(src, label){
      currentSrc = src;
      currentLabel = label || 'Schema';

      const big = document.getElementById('big');
      big.src = src;
      big.alt = label;

      document.getElementById('label').textContent = label;
      // piccolo feedback: scroll morbido verso viewer su mobile
      if (window.matchMedia('(max-width: 980px)').matches) {
        document.querySelector('.viewer')?.scrollIntoView({behavior:'smooth', block:'start'});
      }
    }

    function openModal(){
      const m = document.getElementById('modal');
      const img = document.getElementById('modalImg');
      const lab = document.getElementById('modalLabel');

      img.src = currentSrc;
      img.alt = currentLabel;
      lab.textContent = currentLabel;

      scale = 1;
      img.style.transform = 'scale(1)';
      m.classList.add('on');

      // ESC per chiudere
      window.addEventListener('keydown', escClose, { once:false });
    }

    function escClose(e){
      if(e.key === 'Escape') forceClose();
    }

    function closeModal(e){
      if(e.target.id === 'modal') forceClose();
    }

    function forceClose(){
      document.getElementById('modal').classList.remove('on');
      window.removeEventListener('keydown', escClose);
    }

    function zoom(delta){
      const img = document.getElementById('modalImg');
      scale = Math.max(0.6, Math.min(3.2, scale + delta));
      img.style.transform = 'scale(' + scale + ')';
    }

    function resetZoom(){
      const img = document.getElementById('modalImg');
      scale = 1;
      img.style.transform = 'scale(1)';
    }

    // Notes
    function copyNotes(){
      const t = document.getElementById('notes');
      t.focus(); t.select();
      try { navigator.clipboard.writeText(t.value); }
      catch(e){ document.execCommand('copy'); }
    }

    function downloadNotes(){
      const t = document.getElementById('notes').value;
      const blob = new Blob([t], {type:'text/plain;charset=utf-8'});
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'pascoli-immagine-del-mondo.txt';
      document.body.appendChild(a);
      a.click();
      URL.revokeObjectURL(a.href);
      a.remove();
    }

    function clearNotes(){
      document.getElementById('notes').value = '';
    }
  </script>

  <script src="pwa.js" defer></script>
</body>
</html>
